<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Login - Artigianato Online</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/login.css">
</head>
<body>
    <div id="navbar"></div>

    <div class="container mt-5 pt-5">
        <div class="row justify-content-center">
            <div class="col-md-6 col-lg-5">
                <div class="card shadow p-4">
                    <h2 class="text-center mb-4">Accedi</h2>
                    <form id="loginForm">
                        <div class="mb-3">
                            <label for="usernameInput" class="form-label">Username</label>
                            <input type="text" class="form-control" id="usernameInput" 
                                   placeholder="Inserisci il tuo username" required>
                        </div>
                        <div class="mb-3">
                            <label for="passwordInput" class="form-label">Password</label>
                            <div class="password-container">
                                <input type="password" class="form-control" id="passwordInput" 
                                    placeholder="Inserisci la tua password" required>
                                <i class="bi bi-eye-slash password-toggle" id="togglePassword"></i>
                            </div>
                        </div>

                        <div id="loginError" class="alert alert-danger d-none" role="alert">
                            <!-- Messaggio di errore sarà inserito qui -->
                        </div>

                        <button type="submit" class="btn w-100 mt-3">Accedi</button>
                    </form>
                    <div class="text-center mt-0">
                        <!--Aggiungi link per recupero password, da cui si aprirà un modale in cui si chiede di inserire la propria mail, il link per la pagina di modifica password verrà inviato alla mail-->
                        <a href="/signup.html" class="register-link">Non hai un account? Registrati!</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="footer"></div>

    <script src="/js/services/AuthService.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/login.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // Redirect if already authenticated
        if (AuthService.checkAuth()) {
            window.location.href = '/index.html';
        }
    });
    </script>
</body>
</html>